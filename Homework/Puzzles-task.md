# Puzzles-task Homework

### Задание:

У вас есть код в [прикрепленном файле]((https://github.com/Lemonbrush/SberSchool/blob/master/NoteResources/Puzzles-task)). 

Запустите его, нажмите на кнопки puzzle и quiz (ничего не произойдет).

### Первое задание

Допишите метод **loadPuzzle** в **NetworkService** так, чтобы он скачивал 4 картинки одновременно и потом соединял их в одну. 
Для соединения картинок просто передайте массив картинок results в метод **ImagesServices.image(byCombining: results).** 
Итоговая картинка должна отобразиться на экране (для этого код уже есть). 
Для выполнения этого задания вам можно изменять только то, что написано в методе **loadPuzzle**.
Учитывайте, что если вы скачиваете картинку через DataTask, то для превращения данных в картинку надо использовать **UIImage(data:...)**.

### Второе задание.

В методе **loadQuiz** в **NetworkService** есть адрес, по которому хранится секретная картинка. 

#### Чтобы её скачать, вам надо:
1. Скачать содержимое ссылки (там строка, её можно декодировать из полученных данных, используя **String(from data)**
**let str = String(data: data, encoding: .utf8)**

2. Сделать из этого содержимого URL, скачать картинку по этому URL и отобразить на экране. 
Допишите метод так, чтобы он скачивал эту секретную картинку. 
Ещё вам надо дописать quiz() во вью контроллере. Ну там по аналогии с puzzle()

[Ссылка на результат](https://github.com/Lemonbrush/SberSchool/blob/master/Homework/Projects/Puzzles-task)

---

#### Замечания

- [X] Вместо DispatchQueue.global лучше создавать свою очередь - так будет проще дебажить (свой лейбл), да и просто лучше всегда отгораживаться от эппла. Вдруг они поставят барьер на час в своей global queue, и что тогда наша загрузка будет делать?)

- [X] Более важное: у тебя сейчас задачи будут выполняться по очереди, а не параллельно - да, они не на главном потоке, но Data(contentsOf: url) синхронный, и поэтому они пойдут один за другим (то есть вместо 1с функция займёт 4!). Советую ставить принты, чтобы проверять такие вещи

- [X] Второе задание тоже попробуй ещё раз: метод принимает комплишн, а значит будет читаться как асинхронный. А у тебя он по сути работает синхронно
Советую использовать URLSession.DataTask для походов в сеть - тут тебе и возможность ставить их на паузу, и асинхронность из коробки, и удобная обработка ошибок от сервера

[Ссылка на результат](https://github.com/Lemonbrush/SberSchool/blob/master/Homework/Projects/Puzzles-task-fixed)